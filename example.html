<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>RookeryUS</title>
    <meta content="" name="description">
    <meta content="" name="keywords">
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Satisfy" rel="stylesheet">
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
  <style>
button img {
  width: 100%;
}
#chest {
  background: transparent;
  border: transparent;
  position: absolute; 
  bottom: 10px;
  left: 10px;
}
.twobottom {
    margin-top: 100px;
}
body {
  font-family: sans-serif;
  touch-action: none;
  -ms-touch-action: none;
  /* margin: 0; height: 100%; overflow: hidden; to remove scrolling of window */
}

.draggable {
  position: absolute;
  z-index: 9;
}



.full-draggable {
  cursor: move;
}

/*******************************
     test css */

.draggable {
    background-color: #404355c4;
    text-align: center;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}



#image {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
}


#image {
  height: 100px;
  background-image: url(/assets/img/favicon.png);
}
</style>
</head>
  <body>
    <section style="background-color: rgb(38, 39, 46);">
        <div id="image"></div>
      <div class="">
          <div style="margin-top: 110px; margin-left: 25%; margin-right: 25%;" class="vstack gap-3"> 
            <p style="font-family:serif; text-align: center; color: goldenrod; font-size: 50px; margin-top: -30px;">BBQ</p>
            <p style="font-family:serif; text-align: center; color: goldenrod; font-size: 50px; margin-top: -50px;">PALACE</p><br>
            <a href="/cc-city-texas.html" style="font-family:serif; text-align: center; font-size: 15px; margin-top: -40px;">Fort Worth</a><br>
            <p style="font-family:serif; text-align: center; font-size: 20px; margin-top: -5px;">test 1</p><br>
            <p id="test-full-draggable" class="draggable full-draggable btn btn-dark btn-lg " ontouch= "vibrate()" style="text-align: center; font-family:serif; color:goldenrod;" role="button" aria-pressed="true">Swipe42</p>
            <br>
            <button onclick= "vibrate()" style="font-family:serif; color: goldenrod;" class="btn btn-dark btn-lg active" role="button" aria-pressed="true">Coupons</button>
            <button onclick= "vibrate()" style="font-family:serif; color: goldenrod;" class="btn btn-dark btn-lg active" role="button" aria-pressed="true">Hours</button>
            <button href="/cc-fortworth-atf.html" onclick="vibrate()" style="font-family:serif; color:goldenrod;" class="btn btn-dark btn-lg active" role="button" aria-pressed="true">Menu</button>
            <button href="/cc-fortworth-services.html" onclick="vibrate()" style="font-family:serif; color:goldenrod;" class="btn btn-dark btn-lg active" role="button" aria-pressed="true">Catering</button>
            <p style="font-family:serif; font-size: 15px; text-align: center;">brought to you by</p>
            <a style="font-family:serif; color: goldenrod; font-size: 20px; text-align: center; margin-top: -40px;" href="https://www.rookeryus.com">CommunityChest</a>
            <a id="chest" href="/swipe42intro.html"><img src="/assets/img/CommunityChest/faq.png" alt=""></a>
            <p style="font-family:serif; font-size: 15px; text-align: center;"></p>
        </div>
    </section>
    <footer></footer>
          <script>
function vibrate(){
  window.navigator.vibrate(100);
}
document.addEventListener('touchend', function (e)  {
        if (e.target.getAttribute('draggable') == 'target') {
            e.target.appendChild(item);
            e.preventDefault();
        }
})

function makeDraggable(elmnt) {
  let pos1 = 0,
    pos2 = 0,
    pos3 = 0,
    pos4 = 0;

  let dragHandle = elmnt.getElementsByClassName("drag-handle")[0];

  if (dragHandle !== undefined) {
    // if present, the header is where you move the DIV from:
    dragHandle.onmousedown = dragMouseDown;
    // dragHandle.ontouchstart = dragMouseDown; //added touch event
    dragHandle.addEventListener("touchstart", dragMouseDown, false);
  } else {
    // otherwise, move the DIV from anywhere inside the DIV:
    elmnt.onmousedown = dragMouseDown;
    elmnt.addEventListener("touchstart", dragMouseDown, false); //added touch event
  }

  function dragMouseDown(e) {
    console.log("dragMouseDown called by event: ", e.type);
    // e = e || window.event;
    e.preventDefault();
    let x;
    let y;


    //Get touch or click position
    //https://stackoverflow.com/a/41993300/5078983
    if (
      e.type === "touchstart" ||
      e.type === "touchmove" ||
      e.type === "touchend" ||
      e.type === "touchcancel"
    ) {
      let evt = typeof e.originalEvent === "undefined" ? e : e.originalEvent;
      let touch = evt.touches[0] || evt.changedTouches[0];
      x = touch.pageX;
      y = touch.pageY;
    } else if (
      e.type === "mousedown" ||
      e.type === "mouseup" ||
      e.type === "mousemove" ||
      e.type === "mouseover" ||
      e.type === "mouseout" ||
      e.type === "mouseenter" ||
      e.type === "mouseleave"
    ) {
      x = e.clientX;
      y = e.clientY;
    }

    console.log("drag start x: " + x + " y:" + y);

    // get the mouse cursor position at startup:
    pos3 = x;
    pos4 = y;
    document.onmouseup = closeDragElement;
    // document.ontouchend = closeDragElement;
    document.addEventListener("touchend", closeDragElement, false);
    // call a function whenever the cursor moves:
    document.onmousemove = elementDrag;
    // document.ontouchmove = elementDrag;
    document.addEventListener("touchmove", elementDrag, false);
  }

  function elementDrag(e) {
    e = e || window.event;
    e.preventDefault();
    let x;
    let y;


    //Get touch or click position
    //https://stackoverflow.com/a/41993300/5078983
    if (
      e.type === "touchstart" ||
      e.type === "touchmove" ||
      e.type === "touchend" ||
      e.type === "touchcancel"
    ) {
      let evt = typeof e.originalEvent === "undefined" ? e : e.originalEvent;
      let touch = evt.touches[0] || evt.changedTouches[0];
      x = touch.pageX;
      y = touch.pageY;
    } else if (
      e.type === "mousedown" ||
      e.type === "mouseup" ||
      e.type === "mousemove" ||
      e.type === "mouseover" ||
      e.type === "mouseout" ||
      e.type === "mouseenter" ||
      e.type === "mouseleave"
    ) {
      x = e.clientX;
      y = e.clientY;
    }

    // calculate the new cursor position:
    pos1 = pos3 - x;
    pos2 = pos4 - y;
    pos3 = x;
    pos4 = y;
    // set the element's new position:
    elmnt.style.top = elmnt.offsetTop - pos2 + "px";
    elmnt.style.left = elmnt.offsetLeft - pos1 + "px";
  }

  function closeDragElement() {
    console.log("drag end x: " + pos3 + " y:" + pos4);
    // stop moving when mouse button is released:
    document.onmouseup = null;
    document.ontouchcancel = null; //added touch event
    document.onmousemove = null;
    // document.ontouchend = null; //added touch event
    document.removeEventListener("touchend", closeDragElement, false);
    document.removeEventListener("touchmove", elementDrag, false);
    // document.ontouchmove = null; //added touch event
  }
}
function dragEnd(e) {
    currentX = initialX;
    currentY = initialY;
    active = false;
}
/*******************************
      test js */

//makeDraggable(document.getElementById("test-draggable"));
//makeDraggable(document.getElementById("test-draggable2"));
makeDraggable(document.getElementById("test-full-draggable"));


  </script>
      
   
  </body>
  
</html>